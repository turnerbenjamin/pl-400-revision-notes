# Implement Data Synchronisation with Dataverse

## Perform Data Synchronisation using Change Tracking

### Change Tracking

Change tracking can be used to efficiently synchronise data across different
systems. Dataverse includes a change tracking feature to help in this scenario.
To use change tracking, it must be enabled for the table it its advanced
settings.

#### Delta Links

Delta links are generated by the service and can be used to access subsequent
changes to a result. After a change tracking request is made a delta link will
be returned with the response.

This link, if passed with subsequent requests, will only return changes that
have occurred since the initial request.

#### Change Tracking with Web API

To track changes using the Web API, add odata.track-changes to the Prefer
header. This will add a delta link to the response. Note that use of orderby is
not supported when odata.track-changes is used.

The use of change tracking is demonstrated
[here](../2_extend_the_platform_40-45/demos/web_api_change_tracking.md)

#### Change Tracking with Organisation Service

To retrieve changes with the .NET SDK we can use the
RetrieveEntityChangesRequest class.

The response will include a token, we can use this in subsequent requests to
retrieve changes since the token was issued.

```cs
token = response.EntityChanges.DataToken;
```

The response will include a collection of changes which we can iterate through
and handle:

```cs
foreach (var change in response.EntityChanges.Changes)
{
    switch (change.Type)
    {
        case ChangeType.NewOrUpdated:
            //Do something
            break;

        case ChangeType.RemoveOrDeleted:
            //Do something else
            break;
    }
}
```

## Develop Code utilising Alternate Keys

This is covered in the
[plugin document](../2_extend_the_platform_40-45/1_plug_ins.md) and a
[demo](../2_extend_the_platform_40-45/demos/plug_ins_alternate_keys.md) on
alternate keys. Usage with the web api is also covered in this
[demo](../2_extend_the_platform_40-45/demos/web_api_postman_odata_demo.md).

## Utilise UpsertRequest to Synchronise Data

Again, upsert is well covered in the
[plugin document](../2_extend_the_platform_40-45/1_plug_ins.md) and in a
[demo](../2_extend_the_platform_40-45/demos/plug_ins_upsert.md)
